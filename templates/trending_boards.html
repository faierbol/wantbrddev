{% extends 'base.html' %}
{% load staticfiles %}
{% load thumbnail %}

{% block title %}
	Welcome to Wantbrd
{% endblock %}


{% block extra-css %}
	<link type="text/css" href="{% static 'css/slick.css' %}" rel="stylesheet" />
	<link type="text/css" href="{% static 'css/macy.css' %}" rel="stylesheet" />
{% endblock %}


{% block body %}   

<section class="homeBanner clearfix">
        
    <div class="homeSlider">
        <div><img src="{% static 'img/tmp-banner1.jpg' %}" alt=""></div>
        <div><img src="{% static 'img/tmp-banner1.jpg' %}" alt=""></div>
        <div><img src="{% static 'img/tmp-banner1.jpg' %}" alt=""></div>
        <div><img src="{% static 'img/tmp-banner1.jpg' %}" alt=""></div>
    </div>

</section>


<section class="homeBoard">
    <div class="container">

        <div class="tabNav">
            <a href="/">Hot</a>
            <a href="/trending/users">Trending users</a>
            <a href="/trending/boards" class="tabOn">Trending boards</a>
            <a href="/trending/items">Trending items</a>
        </div>

        <div id="homeBoardItems">            

            {% for board in trending_boards %}
                <div class="featBox trendingBoard">
                    <div class="trendingTop clearfix">
                        <strong>Trending Board</strong>
                        <div class="share-link trendingUserShare">
                            <a class="toggle" href="javascript:void(0);"><i class="fas fa-share-alt"></i> Share</a>
                            <div class="tip">
                                <div class="ssk-group">
                                    <a href="" class="ssk ssk-icon ssk-facebook"
                                        data-url="{% url 'b:view_board' board.user.username board.slug %}"
                                        data-text="Checkout {{ board.board_name }} by {{ board.user.username }}: https://www.wantbrd.com/{% url 'b:view_board' board.user.username board.slug %}"
                                    ></a>
                                    <a href="" class="ssk ssk-icon ssk-twitter"
                                        data-url="{% url 'b:view_board' board.user.username board.slug %}"
                                        data-text="Checkout {{ board.board_name }} by {{ board.user.username }}: https://www.wantbrd.com/{% url 'b:view_board' board.user.username board.slug %}"
                                    ></a>
                                    <a href="" class="ssk ssk-icon ssk-google-plus"
                                        data-url="{% url 'b:view_board' board.user.username board.slug %}"
                                        data-text="Checkout {{ board.board_name }} by {{ board.user.username }}: https://www.wantbrd.com/{% url 'b:view_board' board.user.username board.slug %}"
                                    ></a>
                                    <a href="" class="ssk ssk-icon ssk-pinterest"   
                                        data-url="{% url 'b:view_board' board.user.username board.slug %}"
                                        data-text="Checkout {{ board.board_name }} by {{ board.user.username }}: https://www.wantbrd.com/{% url 'b:view_board' board.user.username board.slug %}"
                                    ></a>
                                    <a href="" class="ssk ssk-icon ssk-tumblr"
                                        data-url="{% url 'b:view_board' board.user.username board.slug %}"
                                        data-text="Checkout {{ board.board_name }} by {{ board.user.username }}: https://www.wantbrd.com/{% url 'b:view_board' board.user.username board.slug %}"
                                    ></a>
                                </div>
                            </div>
                        </div>
                    </div>

                    {% if board.hero %}
                    <a class="trendingBoardHero" style="background-image:url('{{ board.hero.url }}');" href="{% url 'b:view_board' board.user.username board.slug %}">
                    {% else %}    
                    <a class="trendingBoardHero" style="background-image:url('{% static 'img/default-hero.png' %}');" href="{% url 'b:view_board' board.user.username board.slug %}">
                    {% endif %}

                        <div class="trendingBoardMeta">
                            <strong>{{ board.board_name }}</strong>
                        </div>
                    </a>
                    <div class="trendingItems clearfix">
                        {% for itemconx in board.itemconxs %}
                            {% thumbnail itemconx.image "300x300" as im %}
                                <a style="background-image:url('{{ im.url }}');" href="{% url 'b:view_board' board.user.username board.slug %}"></a>
                            {% endthumbnail %}                              
                        {% endfor %}                                

                        {% if board.totalitems > 5 %}
                            <a class="plusMore" href="{% url 'b:view_board' board.user.username board.slug %}">
                                <div class="plusMoreNumber">+{{ board.totalitems|add:"-5" }}</div>
                            </a>
                        {% endif %}
                    </div>
                    <a class="trendingUserUser" href="{% url 'u:profile' board.user.username %}">
                        <div class="trendingUserUserWrap clearfix">
                            <div class="trendingUserPic">
                                {% if board.user.profile.picture %}
                                    <div class="circle" style="background-image:url('{{ board.user.profile.picture.url }}');"></div>
                                {% else %}
                                    <div class="circle" style="background-image:url('{% static 'img/default-hero.png' %}');"></div>
                                {% endif %}
                            </div>
                            <div class="trendingUserNames">
                                <strong>@{{ board.user.username }}</strong>
                                <span>{{ board.user.get_full_name }}</span>
                            </div>
                        </div>
                    </a>
                    <div class="trendingFooter">
                        <span>{{ board.totalitems }} {% if board.totalitems > 1 or board.totalitems == 0 %} Items {% else %} Item {% endif %}</span>
                        <span>{{ board.views }} {% if board.views > 1 or board.views == 0 %} Views {% else %} View {% endif %}</span>
                    </div>
                </div>
            {% endfor %}

        </div>

    </div>  
</section>

{% endblock %}

{% block extra-js %}
<script src="{% static 'js/slick.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/macy.js' %}" type="text/javascript"></script>
<script>
    var masonry = new Macy({
        container: '#homeBoardItems',
        trueOrder: false,
        waitForImages: false,
        useOwnImageLoader: false,
        debug: true,
        mobileFirst: true,
        columns: 1,
        margin: 24,
        breakAt: {
            860: 3,
            520: 2,
            320: 1
        }
    });
    $(document).ready(function(){
        $('.homeSlider').slick({
            centerMode: true,
            arrows:false,
            centerPadding: '200px',
            slidesToShow: 1,
            autoplay: true,
            autoplaySpeed: 4000,
            dots: true,
        });
    });
</script>
{% endblock %}