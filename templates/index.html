{% extends 'base.html' %}
{% load staticfiles %}
{% load comments static %}
{% load thumbnail %}
{% load random_numbers %}


{% block title %}
    Welcome to Wantbrd | Taking the guessing out of giving!
{% endblock %}

{% block meta_description %}
    Create wishlists and share with your friends, family and followers. Discover new products, places &amp; experiences, find out what your friends and family really want.  Wantbrd, taking the guessing out of giving!
{% endblock %}


{% block extra-css %}
    <link type="text/css" href="{% static 'css/slick.css' %}" rel="stylesheet" />
    <link type="text/css" href="{% static 'css/macy.css' %}" rel="stylesheet" />
{% endblock %}


{% block body %}   

<div class="homeBannerPush"></div>
<section class="homeBanner desktop clearfix">
    <div class="homeSlider">
        <div><a href="/collection/neon-90s"><img src="{% static 'img/banner-6.webp' %}" alt="Create and share gift lists"></a></div>
        <div><a href="/collection/can-you-click-it"><img src="{% static 'img/banner-3.webp' %}" alt="Create and share your personal wishllist"></a></div>
        <div><a href="/collection/girls-trip"><img src="{% static 'img/banner-4.webp' %}" alt="The new way for influencers to monetise"></a></div>
        <div><a href="/collection/full-color-sound"><img src="{% static 'img/banner-1.webp' %}" alt="Content creator? Monetise your content with Wantbrd"></a></div>
        <div><a href="/collection/jump-to-it"><img src="{% static 'img/banner-5.webp' %}" alt="Discover new products and experiences"></a></div>
    </div>
    <div class="slickLeft"><i class="fas fa-chevron-right"></i></div>
    <div class="slickRight"><i class="fas fa-chevron-left"></i></div>
</section>

<section class="homeBanner mobile clearfix">
    <div class="homeSliderMobile">
        <div><a href="/collection/neon-90s"><img src="{% static 'img/banner-6.webp' %}" alt="Create and share gift lists"></a></div>
        <div><a href="/collection/can-you-click-it"><img src="{% static 'img/banner-3.webp' %}" alt="Create and share your personal wishllist"></a></div>
        <div><a href="/collection/girls-trip"><img src="{% static 'img/banner-4.webp' %}" alt="The new way for influencers to monetise"></a></div>
        <div><a href="/collection/full-color-sound"><img src="{% static 'img/banner-1.webp' %}" alt="Content creator? Monetise your content with Wantbrd"></a></div>
        <div><a href="/collection/jump-to-it"><img src="{% static 'img/banner-5.webp' %}" alt="Discover new products and experiences"></a></div>
    </div>
</section>


<section class="homeBoard">
    <div class="container">

        <img src="{{res}}">

        <div class="tabNav">
            <a href="/" class="tabOn"><i class="fas fa-fire"></i> <span>Hot</span></a>
            <a href="/trending/users">Trending <span>users</span></a>
            <a href="/trending/boards">Trending <span>boards</span></a>
            <a href="/trending/items">Trending <span>items</span></a>
        </div>

        
        <div id="homeBoardItems">

            <div class="featBox whatIsWantbrdBox">
                <div class="whatIsInner">
                    <strong>What is Wantbrd?</strong>

                    Wantbrd is a place for you to share the things you want and recommend with your friends, family and followers.

                    {% if request.user.is_authenticated %}
                    <a class="btn" href="{% url 'u:home' %}">Create your wantbrd now</a>
                    {% else %}
                    <a class="btn" href="#loginModal" rel="modal:open">Create your wantbrd now</a>
                    {% endif %}
                
                </div>    
            </div>

        </div>


        <div class="homeIntro">
            <h1>Wantbrd, taking the guessing out of giving</h1>
            <h2>Buy, Request, Discover</h2>

            <section>
                <div class="iCol">
                    <p>Did you know that in the USA alone we waste over $9 BILLION worth of unwanted gifts every year?! That’s a lot of stuff! Stuff bought with good intentions. Stuff filling up our homes. Stuff ending up in landfill. Stuff that wasn’t really wanted in the first place.</p>
                    <p>&nbsp;</p>
                    <p>But how do we replace this unwanted stuff with things we actually want and need? Asking for specific gifts is awkward; even if you do ask, what price point is acceptable? Will they remember the correct size, color etc? As the gift giver, buying with no real clues is stressfull. What would they like, what do they already have, what size or spec...</p>
                </div>
                <div class="iCol">
                    <p><strong>Enter Wantbrd.</strong></p>
                    <p>&nbsp;</p>
                    <p>Wantbrd allows everyone a space to pin items they really want to a personal Board, with links to where the items can be purchased, along with any details  or specifics you’d like to add.</p>
                    <p>&nbsp;</p>
                    <p>How cool would it be if you could look up any friend before their Birthday and see all the things they’re pining over, to surprise them with on their big day?</p>
                    <p>&nbsp;</p>
                    <p>Wanbrd is the end of fake ‘oh wow’ faces when opening gifts. Its the end of anxious gift shopping. Its minimising waste.</p>            
                </div> 
                <div class="iCol">
                    <p>Wantbrd allows you to follow friends and influencers, adding things you like to your own Board, commenting on them, or suggesting them to other friends as something they might like for their own Board. Wantbrd is the ultimate in shopping inspo and trend spotting, all in one place.</p>
                    <p>&nbsp;</p>
                    <p>We’re new, we’re growing, and we’re very glad you’re here. Any feedback or features you’d like to see, let us know!</p>
                    {% if request.user.is_authenticated %}
                    <a href="{% url 'u:home' %}">
                    {% else %}
                    <a href="#loginModal" rel="modal:open">
                    {% endif %}
                    Get started! <i class="fal fa-thumbs-up"></i></a>
                </div>
                <div class="clearfix"></div>
            </section>

        </div>  

    </div>

</section>

{% endblock %}

{% block extra-js %}
<script src="{% static 'js/slick.min.js' %}" type="text/javascript"></script>
<script type="text/javascript" src="{% static 'js/ajaxactions.js' %}"></script>
<script src="{% static 'js/macy.js' %}" type="text/javascript"></script>

<script type="text/javascript">

    $(window).on("load", function() {
        console.log('page loaded');

        $.ajax({
            url : "/b/get_home_items/", // the endpoint
            dataType: 'json',
            data : {}, // data sent with the post request

            // handle a successful response
            success : function(data) {
                console.log(data);
                let board = $('#homeBoardItems')
                
                data.map(function(item){

                    if (item.type == 'trending_item') {

                        board.append(
                            '<div class="featBox trendingItem">'+
                                '<div class="trendingTop clearfix">'+
                                    '<strong>Trending Item</strong>'+
                                    '<div class="share-link trendingUserShare">'+
                                        '<a class="toggle" href="javascript:void(0);"><i class="fas fa-share-alt"></i>' + item.type + '</a>'+
                                        '<div class="tip">'+
                                            '<div class="ssk-group">'+
                                                '<a href="" class="ssk ssk-icon ssk-facebook"'+
                                                    'data-url="' + item.item_url  + '"'+
                                                    'data-text="Checkout this item I found on Wantbrd: ' + item.item_name + ' - https://www.wantbrd.com' + item.item_url + '"'+
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-twitter"'+
                                                    'data-url="' + item.item_url + '"'+
                                                    'data-text="Checkout this item I found on Wantbrd: ' + item.item_name + ' - https://www.wantbrd.com' + item.item_url + '"'+
                                                '></a>'+
                                                '<a href="" class="ssk ssk-icon ssk-google-plus"'+
                                                    'data-url="' + item.item_url + '"'+
                                                    'data-text="Checkout this item I found on Wantbrd: ' + item.item_name + ' - https://www.wantbrd.com' + item.item_url + '"'+
                                                    '></a>'+
                                                '<a href="" class="ssk ssk-icon ssk-pinterest"'+
                                                    'data-url="' + item.item_url + '"'+
                                                    'data-text="Checkout this item I found on Wantbrd: ' + item.item_name + ' - https://www.wantbrd.com' + item.item_url + '"'+
                                                '></a>'+
                                                '<a href="" class="ssk ssk-icon ssk-tumblr"'+
                                                    'data-url="' + item.item_url + '"'+
                                                    'data-text="Checkout this item I found on Wantbrd: ' + item.item_name + ' - https://www.wantbrd.com' + item.item_url + '"'+
                                                '></a>'+
                                            '</div>'+
                                        '</div>'+
                                    '</div>'+
                                '</div>'+
                                '<div class="trendingItemItem">' +
                                    '<a href="' + item.item_url + '"><img src="' + item.item_image + '" alt="' + item.item_name + '"></a>'+
                                '</div>' +
                                '<div class="trendingItemName">'+
                                    '<a href="' + item.item_url + '">' + item.item_name + '</a>'+
                                    '<div class="trendingItemMeta">' +
                                        'Found on <a href="' + item.board_url + '">' + item.board_name + '</a>'+
                                        'by <a href="' + item.user_url + '">' + item.user + '</a>'+
                                    '</div>'+
                                '</div>'+
                                '<div class="trendingFooter">'+
                                    '<span><a href="' + item.item_url + '"><i class="far fa-comments"></i></a> 0'+                                    
                                    '</span>' +                                
                                    '<span><i class="fas fa-eye"></i>' + item.item_views + '</span>'+
                                '</div>'+
                            '</div>'
                        )

                    } else if(item.type == 'trending_board')  {

                        totalItemsSuffix = item.total_items == 1 ? "item" : "items";
                        totalItems = "<span>" + item.total_items + " " + totalItemsSuffix + "</span>";

                        viewsSuffix = item.views == 1 ? "view" : "views";
                        views = "<span>" + item.views + " " + viewsSuffix + "</span>";      

                        userpic = "<div class='circle' style='background-image:url(" + item.user_pic + ");'></div>";

                        boardpic = "<a class='trendingBoardHero' style='background-image:url(" + item.hero + ");' href='" + 
                        item.board_url + "'><div class='trendingBoardMeta'><strong>" + item.board_name + "</div></strong></a>";
                        
                        var itemHtml = '';
                        var x = 1;
                        for (var key in item.items) {
                            itemHtml += '<a data-id="this" style="background-image:url(' + item.items[key].image + ');" href="' + item.items[key].link + '"></a>'                            
                        }

                        board.append(

                            '<div class="featBox trendingBoard">' +
                                '<div class="trendingTop clearfix">' +
                                    '<strong>Trending Board</strong>' +
                                    '<div class="share-link trendingUserShare">' +
                                        '<a class="toggle" href="javascript:void(0);"><i class="fas fa-share-alt"></i> Share</a>' +
                                        '<div class="tip">' +
                                            '<div class="ssk-group">' +
                                                '<a href="" class="ssk ssk-icon ssk-facebook"' +
                                                    'data-url="https://www.wantbrd.com' + item.board_url + '"' +
                                                    'data-text="Checkout ' + item.board_name + ' by ' + item.username + ': https://www.wantbrd.com' + item.board_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-twitter"' +
                                                'data-url="https://www.wantbrd.com' + item.board_url + '"' +
                                                'data-text="Checkout ' + item.board_name + ' by ' + item.username + ': https://www.wantbrd.com' + item.board_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-google-plus"' +
                                                'data-url="https://www.wantbrd.com' + item.board_url + '"' +
                                                'data-text="Checkout ' + item.board_name + ' by ' + item.username + ': https://www.wantbrd.com' + item.board_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-pinterest"' +
                                                'data-url="https://www.wantbrd.com' + item.board_url + '"' +
                                                'data-text="Checkout ' + item.board_name + ' by ' + item.username + ': https://www.wantbrd.com' + item.board_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-tumblr"' +
                                                'data-url="https://www.wantbrd.com' + item.board_url + '"' +
                                                'data-text="Checkout ' + item.board_name + ' by ' + item.username + ': https://www.wantbrd.com' + item.board_url + '"' +
                                                '></a>' +
                                            '</div>' +
                                        '</div>' +
                                    '</div>' +
                                '</div>' +

                                boardpic +

                                "<div class='trendingItems clearfix'>" +
                                    itemHtml +
                                "</div>" +

                                '<a class="trendingUserUser" href="' + item.user_url + '">' +
                                    '<div class="trendingUserUserWrap clearfix">' +
                                        '<div class="trendingUserPic">' +
                                            userpic +
                                        '</div>' +
                                        '<div class="trendingUserNames">' +
                                            '<strong>@' + item.username + '</strong>' +
                                            '<span>' + item.full_name + '</span>' +
                                        '</div>' +
                                    '</div>' +
                                '</a>' +
                                '<div class="trendingFooter">' +
                                views +
                                totalItems +
                                '</div>' +
                            '</div>' 

                        );

                    } else if(item.type == 'trending_user') {

                        totalItemsSuffix = item.total_items == 1 ? "item" : "items";
                        total_items = "<span>" + item.total_items + " " + totalItemsSuffix + "</span>";

                        boardsSuffix = item.total_boards == 1 ? "board" : "boards";
                        total_boards = "<span>" + item.total_boards + " " + boardsSuffix + "</span>";

                        var itemHtml = '';
                        var x = 1;
                        for (var key in item.items) {
                            itemHtml += '<a style="background-image:url(' + item.items[key].image + ');" href="' + item.items[key].link + '"></a>'                            
                        }

                        board.append(

                            '<div class="featBox trendingUser">' +
                                '<div class="trendingTop clearfix">' +
                                    '<strong>Trending User</strong>' +
                                    '<div class="share-link trendingUserShare">' +
                                        '<a class="toggle" href="javascript:void(0);"><i class="fas fa-share-alt"></i> Share</a>' +
                                        '<div class="tip">' +
                                            '<div class="ssk-group">' +
                                                '<a href="" class="ssk ssk-icon ssk-facebook"' +
                                                    'data-url="' + item.user_url + '"' +
                                                    'data-text="Checkout ' + item.username + ' on Wantbrd: ' + item.user_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-twitter"' +
                                                    'data-url="' + item.user_url + '"' +
                                                    'data-text="Checkout ' + item.username + ' on Wantbrd: ' + item.user_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-google-plus"' +
                                                    'data-url="' + item.user_url + '"' +
                                                    'data-text="Checkout ' + item.username + ' on Wantbrd: ' + item.user_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-pinterest"' +
                                                    'data-url="' + item.user_url + '"' +
                                                    'data-text="Checkout ' + item.username + ' on Wantbrd: ' + item.user_url + '"' +
                                                '></a>' +
                                                '<a href="" class="ssk ssk-icon ssk-tumblr"' +
                                                    'data-url="' + item.user_url + '"' +
                                                    'data-text="Checkout ' + item.username + ' on Wantbrd: ' + item.user_url + '"' +
                                                '></a>' +
                                            '</div>' +
                                        '</div>' +
                                    '</div>' +
                                '</div>' +
                                '<a class="trendingUserUser" href="' + item.user_url + '">' +
                                    '<div class="trendingUserUserWrap clearfix">' +
                                        '<div class="trendingUserPic">' +                                            
                                            '<div class="circle" style="background-image:url(' + item.user_pic + ');"></div>' +
                                        '</div>' +
                                        '<div class="trendingUserNames">' +
                                            '<strong>@' + item.username + '</strong>' +
                                            '<span>' + item.name + '</span>' +
                                        '</div>' +
                                    '</div>' +
                                '</a>' +
                                
                                '<a class="trendingUserHero" href="' + item.user_url + '" style="background-image:url(' + item.hero + ')"></a>' +

                                '<div class="trendingItems clearfix">' +
                                    itemHtml +
                                '</div>' +

                                '<div class="trendingFooter">' +
                                    total_items +
                                    total_boards +
                                '</div>' +

                            '</div>'

                        )

                    } 
                })             

                // then do masonry
                var masonry = new Macy({
                    container: '#homeBoardItems',
                    trueOrder: false,
                    waitForImages: false,
                    useOwnImageLoader: false,
                    debug: true,
                    mobileFirst: true,
                    columns: 1,
                    margin: 24,
                    breakAt: {
                        860: 3,
                        520: 2,
                        320: 1
                    }
                });   
            }
        });

    })

    $('.homeSlider').slick({
        centerMode: true,
        arrows:false,
        centerPadding: '200px',
        slidesToShow: 1,
        autoplay: false,
        dots: true,            
        responsive: [
            {
              breakpoint: 1200,
              settings: {
                centerPadding: '0px',
              }
            },
        ],
    });
    $('.slickRight').click(function(){
        $('.homeSlider').slick('slickPrev');
    })
    $('.slickLeft').click(function(){
        $('.homeSlider').slick('slickNext');
    })
    $('.homeSliderMobile').slick({
        centerMode: true,
        arrows:false,
        centerPadding: '200px',
        slidesToShow: 1,
        autoplay: false,
        dots: true,            
        responsive: [
            {
              breakpoint: 1200,
              settings: {
                centerPadding: '0px',
              }
            },
        ],
    });

</script>
{% endblock %}